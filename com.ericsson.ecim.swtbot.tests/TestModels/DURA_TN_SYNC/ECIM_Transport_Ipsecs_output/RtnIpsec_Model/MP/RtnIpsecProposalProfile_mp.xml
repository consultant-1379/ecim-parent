<?xml version="1.0" encoding="UTF-8"?>
<!--
	Copyright (c) 2015 Ericsson AB. 
	All rights reserved 

	DX ECIM Tool-chain generated this file on Oct 1, 2015 1:59:35 PM using:
	* com.ericsson.ecim.m2m 2.14.3.201506050754
	* com.ericsson.ecim.dsl 2.14.3.201506050754
	* com.ericsson.ecim.edm 2.14.3.201506050754
--><!DOCTYPE models SYSTEM "mp.dtd">
<models>
  <dtdVersion>G</dtdVersion>
  <momMetaData>
    <momTitle>title</momTitle>
    <momSubTitle>sub title</momSubTitle>
    <momIdentity>
      <docNum>0</docNum>
      <docLang>English</docLang>
      <docRev>0</docRev>
      <docDate/>
    </momIdentity>
    <createdBy>
      <signature>EAB/FJP/TA UABERPE</signature>
    </createdBy>
    <approvedBy>
      <signature>EAB/FJP/TA UABERPE</signature>
    </approvedBy>
  </momMetaData>
  <mim author="EAB/FJP/TA UABERPE" contact="EAB/FJP/TA UABERPE" correction="0" date="" docNo="" name="RtnIpsecProposalProfile" namespace="urn:com:ericsson:ecim:RtnIpsecProposalProfile" namespacePrefix="rtnipsecproposalprofile" organization="" release="1" revision="" variant="Model" version="1">
    <description>IpSecProposalProfile package</description>
    <domainExtension domain="ECIM">
      <extension name="immNamespace" value="NONE"/>
    </domainExtension>
    <struct name="ChildSaLifetime">
      <description>Lifetime for the negotiated ChildSAs.</description>
      <domainExtension domain="ECIM">
        <extension name="originatingMimVersion" value="1"/>
        <extension name="originatingMimName" value="RtnIpsec"/>
        <extension name="originatingMimRelease" value="2"/>
      </domainExtension>
      <structMember name="dataLimit">
        <description>Specifies the maximum amount of data that is allowed to be transmitted on a SA before rekeying.&#13;
</description>
        <domainExtension domain="ECIM">
          <extension name="isNillable" value="true"/>
        </domainExtension>
        <derivedDataTypeRef name="DataLimit">
          <mimName>RtnIpsecProposalProfile</mimName>
        </derivedDataTypeRef>
      </structMember>
      <structMember name="timeLimit">
        <description>The maximum lifetime when an SA can be used.</description>
        <derivedDataTypeRef name="TimeLimit">
          <defaultValue>1440</defaultValue>
          <mimName>RtnIpsecProposalProfile</mimName>
        </derivedDataTypeRef>
      </structMember>
    </struct>
    <struct name="IpsecProposal">
      <description>Ipsec Transform to be proposed during SA negotiation.</description>
      <domainExtension domain="ECIM">
        <extension name="originatingMimVersion" value="1"/>
        <extension name="originatingMimName" value="RtnIpsec"/>
        <extension name="originatingMimRelease" value="2"/>
      </domainExtension>
      <structMember name="encryptionAlgorithm">
        <description>Specifies the algorithm used for encryption.&#13;
&#13;
When unset (nil), the node will send all encryption algorithms supported by the hardware in the proposal.</description>
        <domainExtension domain="ECIM">
          <extension name="isNillable" value="true"/>
        </domainExtension>
        <enumRef name="ChildSaEncryptionAlgorithm">
          <mimName>RtnIpsecProposalProfile</mimName>
        </enumRef>
      </structMember>
      <structMember name="integrityAlgorithm">
        <description>Specifies the algorithm used for integrity check.&#13;
&#13;
When unset (nil), the node will send all integrity algorithms supported by the hardware in the proposal.</description>
        <domainExtension domain="ECIM">
          <extension name="isNillable" value="true"/>
        </domainExtension>
        <enumRef name="ChildSaIntegrityAlgorithm">
          <mimName>RtnIpsecProposalProfile</mimName>
        </enumRef>
      </structMember>
    </struct>
    <enum name="ChildSaIntegrityAlgorithm">
      <description>Child Security Association(SA) integrity algorithms.</description>
      <domainExtension domain="ECIM">
        <extension name="originatingMimVersion" value="1"/>
        <extension name="originatingMimName" value="RtnIpsec"/>
        <extension name="originatingMimRelease" value="2"/>
      </domainExtension>
      <enumMember name="AUTH_HMAC_MD5_96">
        <description>Specification:  RFC_5996. &#13;
</description>
        <value>1</value>
      </enumMember>
      <enumMember name="AUTH_HMAC_SHA1_96">
        <description>Specification:  RFC_5996. &#13;
</description>
        <value>2</value>
      </enumMember>
      <enumMember name="AUTH_AES_XCBC_96">
        <description>Specification:  RFC_5996. &#13;
&#13;
&#13;
</description>
        <value>5</value>
      </enumMember>
    </enum>
    <enum name="ChildSaEncryptionAlgorithm">
      <description>Child Security Association(SA) encryption algorithms.</description>
      <domainExtension domain="ECIM">
        <extension name="originatingMimVersion" value="1"/>
        <extension name="originatingMimName" value="RtnIpsec"/>
        <extension name="originatingMimRelease" value="2"/>
      </domainExtension>
      <enumMember name="ENCR_NULL">
        <description>Specification:  RFC_2410. </description>
        <value>11</value>
      </enumMember>
      <enumMember name="ENCR_AES_CBC_128">
        <description>Specification:  RFC_5996. </description>
        <value>1024</value>
      </enumMember>
      <enumMember name="ENCR_AES_CBC_256">
        <description>Specification:  RFC_5996. </description>
        <value>1026</value>
      </enumMember>
    </enum>
    <derivedDataType name="DataLimit">
      <description>Specify the amount of data in Mbytes.</description>
      <domainExtension domain="ECIM">
        <extension name="originatingMimVersion" value="1"/>
        <extension name="originatingMimName" value="RtnFilterTypes"/>
        <extension name="originatingMimRelease" value="0"/>
      </domainExtension>
      <baseType>
        <uint32>
          <range>
            <min>100</min>
            <max>500000</max>
          </range>
          <ranges>
            <subrange>
              <min>100</min>
              <max>500000</max>
            </subrange>
          </ranges>
          <unit>MByte</unit>
        </uint32>
      </baseType>
    </derivedDataType>
    <derivedDataType name="TimeLimit">
      <description>The maximum time in minutes.</description>
      <domainExtension domain="ECIM">
        <extension name="originatingMimVersion" value="1"/>
        <extension name="originatingMimName" value="RtnFilterTypes"/>
        <extension name="originatingMimRelease" value="0"/>
      </domainExtension>
      <baseType>
        <uint32>
          <range>
            <min>60</min>
            <max>5000</max>
          </range>
          <ranges>
            <subrange>
              <min>60</min>
              <max>5000</max>
            </subrange>
          </ranges>
          <unit>minutes</unit>
        </uint32>
      </baseType>
    </derivedDataType>
    <derivedDataType name="RtnIpsecProposalProfile_IpsecProposalProfile_userLabel">
      <baseType>
        <string>
          <lengthRange>
            <min>1</min>
            <max>128</max>
          </lengthRange>
          <stringLength>
            <subrange>
              <min>1</min>
              <max>128</max>
            </subrange>
          </stringLength>
        </string>
      </baseType>
    </derivedDataType>
    <class name="IpsecProposalProfile">
      <description>Configuration information for Ipsec policies.</description>
      <validationRules>
        <rule exceptionText="" format="ECIM_Schematron_1.0" name="ProposalProfile"><![CDATA[<schema xmlns="http://purl.oclc.org/dsdl/schematron">
	<pattern> 
		<rule>
		<assert test='every $ip in @ipsecProposal satisfies not (exists($ip/@encryptionAlgorithm) xor exists($ip/@integrityAlgorithm))'><value-of select="."/> None or both attributes of IpsecProposal must be present.</assert> 
		</rule>
	</pattern>
</schema> ]]></rule>
      </validationRules>
      <root/>
      <dependenciesScript><![CDATA[<schema xmlns="http://purl.oclc.org/dsdl/schematron">
	<pattern> 
		<rule>
		<assert test='every $ip in @ipsecProposal satisfies not (exists($ip/@encryptionAlgorithm) xor exists($ip/@integrityAlgorithm))'><value-of select="."/> None or both attributes of IpsecProposal must be present.</assert> 
		</rule>
	</pattern>
</schema> ]]></dependenciesScript>
      <attribute name="ipsecProposalProfileId">
        <description>Value component of the RDN.</description>
        <mandatory/>
        <noNotification/>
        <restricted/>
        <key/>
        <dataType>
          <string/>
        </dataType>
      </attribute>
      <attribute name="childSaLifetime">
        <description>Lifetime for the negotiated ChildSAs. 
In order for the node to have completed the rekeying process before the lifetime expires, the node will initiate re-rekeying according to a soft lifetime. The soft lifetime is calculated as (0.8+0.1*R)*childSaLifetime, where R is a random factor between 0 and 1. </description>
        <mandatory/>
        <restricted/>
        <dataType>
          <structRef name="ChildSaLifetime">
            <mimName>RtnIpsecProposalProfile</mimName>
          </structRef>
        </dataType>
      </attribute>
      <attribute name="ipsecProposal">
        <description>An ordered list of Ipsec proposals to be used for IKEv2 negotiation. 

At least one Ipsec proposal must be specified. The first one in the list has the highest priority.&#13;
</description>
        <mandatory/>
        <restricted/>
        <dataType>
          <sequence>
            <structRef name="IpsecProposal">
              <mimName>RtnIpsecProposalProfile</mimName>
            </structRef>
            <minLength>1</minLength>
            <maxLength>2</maxLength>
            <nonUnique/>
            <ordered/>
          </sequence>
        </dataType>
      </attribute>
      <attribute name="userLabel">
        <description>Label for free use.</description>
        <domainExtension domain="ECIM">
          <extension name="isNillable" value="true"/>
        </domainExtension>
        <isNillable/>
        <dataType>
          <derivedDataTypeRef name="RtnIpsecProposalProfile_IpsecProposalProfile_userLabel">
            <mimName>RtnIpsecProposalProfile</mimName>
          </derivedDataTypeRef>
        </dataType>
      </attribute>
      <attribute name="reservedBy">
        <description>Contains a list of MO instances that reserve this MO instance.</description>
        <readOnly/>
        <dataType>
          <sequence>
            <moRef name="ManagedObject"/>
            <minLength>0</minLength>
          </sequence>
        </dataType>
      </attribute>
    </class>
  </mim>
  <interMim>
    <relationship name="Transport_to_IpsecProposalProfile">
      <domainExtension domain="CoreMW">
        <extension name="splitImmDn" value="false"/>
      </domainExtension>
      <containment>
        <parent>
          <hasClass name="Transport">
            <mimName>ECIM_Top</mimName>
          </hasClass>
        </parent>
        <child>
          <hasClass name="IpsecProposalProfile">
            <mimName>RtnIpsecProposalProfile</mimName>
          </hasClass>
          <cardinality>
            <min>0</min>
            <max>1</max>
          </cardinality>
        </child>
        <domainExtension domain="ECIM">
          <extension name="canCreate" value="true"/>
          <extension name="canDelete" value="true"/>
        </domainExtension>
      </containment>
    </relationship>
  </interMim>
</models>